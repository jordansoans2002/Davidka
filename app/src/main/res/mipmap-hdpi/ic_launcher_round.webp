package com.example.miniproject_2a;

import android.os.Bundle;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import android.os.Handler;
import android.os.Looper;
import android.util.Log;
import android.view.ContentInfo;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

import java.io.IOException;
import java.security.GeneralSecurityException;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.concurrent.Executor;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

/*
 * A simple {@link Fragment} subclass.
 * Use the {@link SessionsFragment#newInstance} factory method to
 * create an instance of this fragment.
 */
public class SessionsFragment extends Fragment {

//    // TODO: Rename parameter arguments, choose names that match
//    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
//    private static final String ARG_PARAM1 = "param1";
//    private static final String ARG_PARAM2 = "param2";
//
//    // TODO: Rename and change types of parameters
//    private String mParam1;
//    private String mParam2;

    RecyclerView queue;
    SessionsAdapter sessionsAdapter;

    public void setPrintSessions(List<PrintSession> printSessions) {
        this.printSessions = printSessions;
    }

    List<PrintSession> printSessions;

    public SessionsFragment() {
        // Required empty public constructor
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        // Inflate the layout for this fragment
        return inflater.inflate(R.layout.fragment_sessions, container, false);
    }

    @Override
    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);

        printSessions = new ArrayList<>();
        queue = view.findViewById(R.id.printQueue);
        queue.setLayoutManager(new LinearLayoutManager(view.getContext()));
        sessionsAdapter = new SessionsAdapter(printSessions);
        queue.setAdapter(sessionsAdapter);

//        List<String> nestedList1 = new ArrayList<>();
//        nestedList1.add("Miniproject proposal");
//        nestedList1.add("Miniproject Log Book");
//        nestedList1.add("Miniproject Report");
//        List<String> nestedList2 = new ArrayList<>();
//        nestedList2.add("HSC chem");
//        nestedList2.add("textbook");
//        printSessions.add(new PrintSession("2:30 - 2:45",nestedList1 ));
//        printSessions.add(new PrintSession("11:00 - 11:30",nestedList2));
//        printSessions.add(new PrintSession("